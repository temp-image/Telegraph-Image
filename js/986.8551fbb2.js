"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[986],{986:function(l,t,s){s.r(t),s.d(t,{default:function(){return I}});var e=s(47),i=(s(5331),s(9648),s(2105)),a=(s(9092),s(6768)),n=s(5130);const o={class:"login"},r={class:"login-container"};function y(l,t,s,y,g,c){const h=i.WK,M=e.S2;return(0,a.uX)(),(0,a.CE)("div",o,[t[3]||(t[3]=(0,a.Lk)("img",{id:"bg1",class:"background-image1",alt:"Background Image"},null,-1)),t[4]||(t[4]=(0,a.Lk)("img",{id:"bg2",class:"background-image2",alt:"Background Image"},null,-1)),(0,a.Lk)("div",r,[t[2]||(t[2]=(0,a.Lk)("h1",null,"Login",-1)),(0,a.bF)(h,{class:"password-input",modelValue:g.password,"onUpdate:modelValue":t[0]||(t[0]=l=>g.password=l),placeholder:"输入认证码，若未设置留空即可~",type:"password","show-password":"",onKeyup:(0,n.jR)(c.login,["enter","native"])},null,8,["modelValue","onKeyup"]),(0,a.bF)(M,{class:"submit",type:"primary",onClick:c.login},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)("登录")]))),_:1},8,["onClick"])])])}s(4114);var g=s(4570),c=s.n(g),h=s(4373),M=s(782),p={data(){return{password:"",writtenPass:"",bingWallPaperIndex:0,customWallPaperIndex:0}},computed:{...(0,M.L8)(["userConfig","bingWallPapers"]),bkInterval(){return this.userConfig?.bkInterval||3e3},bkOpacity(){return this.userConfig?.bkOpacity||1}},mounted(){const l=document.getElementById("bg1"),t=document.getElementById("bg2");"bing"===this.userConfig?.loginBkImg?this.$store.dispatch("fetchBingWallPapers").then((()=>{l.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,l.onload=()=>{l.style.opacity=this.bkOpacity},setInterval((()=>{let s=0!=l.style.opacity?l:t,e=0!=l.style.opacity?t:l;s.style.opacity=0,this.bingWallPaperIndex=(this.bingWallPaperIndex+1)%this.bingWallPapers.length,e.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,e.onload=()=>{e.style.opacity=this.bkOpacity}}),this.bkInterval)})):this.userConfig?.loginBkImg instanceof Array&&this.userConfig?.loginBkImg?.length>1?(l.src=this.userConfig.loginBkImg[this.customWallPaperIndex],l.onload=()=>{l.style.opacity=this.bkOpacity},setInterval((()=>{let s=0!=l.style.opacity?l:t,e=0!=l.style.opacity?t:l;s.style.opacity=0,this.customWallPaperIndex=(this.customWallPaperIndex+1)%this.userConfig.loginBkImg.length,e.src=this.userConfig.loginBkImg[this.customWallPaperIndex],e.onload=()=>{e.style.opacity=this.bkOpacity}}),this.bkInterval)):this.userConfig?.loginBkImg instanceof Array&&1==this.userConfig?.loginBkImg?.length?(l.src=this.userConfig.loginBkImg[0],l.onload=()=>{l.style.opacity=this.bkOpacity}):(l.src=s(732),l.onload=()=>{l.style.opacity=this.bkOpacity})},methods:{login(){""===this.password?this.writtenPass="unset":this.writtenPass=this.password,h.A.post("/login",{authCode:this.password}).then((l=>{200===l.status?(c().set("authCode",this.writtenPass,"14d"),this.$router.push("/"),this.$message.success("登录成功~")):this.$message.error("登录失败，请检查认证码是否正确~")})).catch((l=>{this.$message.error("登录失败，请检查认证码是否正确~")}))}}},d=s(1241);const u=(0,d.A)(p,[["render",y],["__scopeId","data-v-1774635e"]]);var I=u},732:function(l){l.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAj90RVh0bXhmaWxlACUzQ214ZmlsZSUzRSUzQ2RpYWdyYW0lMjBpZCUzRCUyMlRZVGw5Q0tSRmJGdzVKVUhsWk13JTIyJTIwbmFtZSUzRCUyMiVFNyVBQyVBQyUyMDElMjAlRTklQTElQjUlMjIlM0UlM0NteEdyYXBoTW9kZWwlMjBkeCUzRCUyMjExMDMlMjIlMjBkeSUzRCUyMjY1OSUyMiUyMGdyaWQlM0QlMjIxJTIyJTIwZ3JpZFNpemUlM0QlMjIxMCUyMiUyMGd1aWRlcyUzRCUyMjElMjIlMjB0b29sdGlwcyUzRCUyMjElMjIlMjBjb25uZWN0JTNEJTIyMSUyMiUyMGFycm93cyUzRCUyMjElMjIlMjBmb2xkJTNEJTIyMSUyMiUyMHBhZ2UlM0QlMjIxJTIyJTIwcGFnZVNjYWxlJTNEJTIyMSUyMiUyMHBhZ2VXaWR0aCUzRCUyMjEyMDAlMjIlMjBwYWdlSGVpZ2h0JTNEJTIyMTYwMCUyMiUyMG1hdGglM0QlMjIwJTIyJTIwc2hhZG93JTNEJTIyMCUyMiUzRSUzQ3Jvb3QlM0UlM0NteENlbGwlMjBpZCUzRCUyMjAlMjIlMkYlM0UlM0NteENlbGwlMjBpZCUzRCUyMjElMjIlMjBwYXJlbnQlM0QlMjIwJTIyJTJGJTNFJTNDJTJGcm9vdCUzRSUzQyUyRm14R3JhcGhNb2RlbCUzRSUzQyUyRmRpYWdyYW0lM0UlM0MlMkZteGZpbGUlM0Xw0DhKAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=986.8551fbb2.js.map